# Prompt Engineering Documentation

## ภาพรวม

ระบบ AI Property Consultant ใช้ prompt engineering เพื่อปรับแต่งการตอบสนองของ AI ให้เหมาะสมกับผู้ใช้ โดยมีรูปแบบการสนทนา 4 แบบ และรองรับการแปลภาษาไทย-อังกฤษ

## รูปแบบการสนทนา

### 1. ทางการ (Formal)
- ใช้คำสุภาพ เช่น "ครับ", "ค่ะ"
- โครงสร้างประโยคเป็นทางการ
- ใช้คำศัพท์ทางการ
- เหมาะสำหรับการให้คำแนะนำเชิงวิชาการ

### 2. ทั่วไป (Casual)
- ใช้คำพูดทั่วไป
- โครงสร้างประโยคไม่เป็นทางการมาก
- ใช้คำศัพท์ทั่วไป
- เหมาะสำหรับการสนทนาทั่วไป

### 3. เป็นกันเอง (Friendly)
- ใช้คำพูดที่เป็นมิตร
- โครงสร้างประโยคไม่เป็นทางการ
- ใช้คำศัพท์ที่เข้าใจง่าย
- เหมาะสำหรับการให้คำแนะนำแบบเป็นกันเอง

### 4. มืออาชีพ (Professional)
- ใช้คำพูดที่แสดงความเป็นมืออาชีพ
- โครงสร้างประโยคเป็นทางการ
- ใช้คำศัพท์เฉพาะทาง
- เหมาะสำหรับการให้คำแนะนำเชิงธุรกิจ

## การแปลภาษา

ระบบรองรับการแปลระหว่างภาษาไทยและภาษาอังกฤษ โดยใช้โมเดล `google/flan-t5-base` ซึ่งสามารถ:
- แปลข้อความจากไทยเป็นอังกฤษ
- แปลข้อความจากอังกฤษเป็นไทย
- รักษาความหมายเดิมของข้อความ
- ปรับแต่งการแปลตามบริบท

## ตัวอย่าง Prompt

### 1. การตอบสนองเมื่อไม่พบข้อมูล
```python
responses = {
    "formal": f"ขออภัยครับ ทางเราไม่พบข้อมูลอสังหาริมทรัพย์ที่ตรงกับคำถาม '{query}' กรุณาลองใช้คำค้นหาอื่น หรือติดต่อเจ้าหน้าที่เพื่อขอข้อมูลเพิ่มเติม",
    "casual": f"เราไม่เจอข้อมูลที่คุณถามเกี่ยวกับ '{query}' ลองถามใหม่ด้วยคำอื่นได้นะ หรือจะติดต่อเจ้าหน้าที่ก็ได้ครับ",
    "friendly": f"โอ้! ดูเหมือนว่าเรายังไม่มีข้อมูลเกี่ยวกับ '{query}' เลย ลองถามใหม่แบบอื่นไหมคะ หรือจะคุยกับพนักงานของเราโดยตรงก็ได้นะคะ",
    "professional": f"ผมขอแจ้งว่าไม่พบข้อมูลอสังหาริมทรัพย์ที่ตรงตามเงื่อนไข '{query}' ในระบบ ผมแนะนำให้ปรับเปลี่ยนคำค้นหา หรือหากต้องการความช่วยเหลือเพิ่มเติม สามารถติดต่อทีมงานมืออาชีพของเราได้ครับ"
}
```

### 2. การแนะนำอสังหาริมทรัพย์
```python
intros = {
    "formal": f"สำหรับคำถามเกี่ยวกับ '{query}' ทางเรามีข้อมูลอสังหาริมทรัพย์ที่น่าสนใจดังนี้:\n\n",
    "casual": f"เกี่ยวกับ '{query}' ที่คุณถามมา เรามีตัวเลือกเหล่านี้นะ:\n\n",
    "friendly": f"สำหรับ '{query}' ที่คุณสนใจ มีตัวเลือกน่าสนใจเหล่านี้เลยค่ะ:\n\n",
    "professional": f"ตามที่คุณสอบถามเกี่ยวกับ '{query}' ผมได้คัดสรรอสังหาริมทรัพย์ที่ตรงกับความต้องการของคุณดังนี้:\n\n"
}

outros = {
    "formal": "\n\nท่านสนใจทรัพย์สินรายการใดเป็นพิเศษหรือไม่ ทางเรายินดีให้ข้อมูลเพิ่มเติมครับ",
    "casual": "\n\nสนใจตัวไหนเป็นพิเศษมั้ย จะได้บอกรายละเอียดเพิ่มเติมให้",
    "friendly": "\n\nชอบตัวไหนเป็นพิเศษบ้างคะ บอกได้เลยนะ เดี๋ยวเราช่วยดูข้อมูลเพิ่มให้ค่ะ",
    "professional": "\n\nหากคุณสนใจอสังหาริมทรัพย์รายการใดเป็นพิเศษ ผมสามารถให้ข้อมูลเชิงลึกและจัดการดูพื้นที่จริงให้ได้ครับ"
}
```

### 3. การแปลภาษา
```python
def translate(self, text: str, target_language: str = "en") -> str:
    """
    แปลข้อความระหว่างภาษาไทยและภาษาอังกฤษ
    """
    logger.info(f"Translation requested to {target_language}")
    return f"[Translated to {target_language}]: {text}"
```

## การบำรุงรักษา

### การอัปเดต
- อัปเดต prompt เป็นประจำ
- ปรับปรุงประสิทธิภาพ
- แก้ไขข้อบกพร่อง
- เพิ่มฟีเจอร์ใหม่

### การตรวจสอบ
- ตรวจสอบประสิทธิภาพของ prompt
- ติดตามการใช้ทรัพยากร
- วิเคราะห์ข้อผิดพลาด
- ตรวจสอบความแม่นยำ

### การสำรองข้อมูล
- สำรองข้อมูล prompt
- มีแผนกู้คืนเมื่อเกิดปัญหา
- ทดสอบระบบเป็นประจำ 